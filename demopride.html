<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Explore Our Communities</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box
        }

        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #f5f7fa, #c3cfe2);
            padding: 40px 20px
        }

        .container {
            max-width: 1200px;
            margin: auto
        }

        h1 {
            text-align: center;
            color: #7d2d5f;
            margin-bottom: 30px
        }

        .tabs {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 30px
        }

        .tab {
            flex: 1;
            min-width: 200px;
            padding: 15px;
            border: 2px solid #7d2d5f;
            background: #fff;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            text-align: center
        }

        .tab.active {
            background: #7d2d5f;
            color: #fff
        }

        .dropdown {
            display: none;
            position: absolute;
            background: #fff;
            width: 100%;
            border: 2px solid #7d2d5f;
            border-top: none;
            z-index: 10
        }

        .dropdown.show {
            display: block
        }

        .dropdown-item {
            padding: 12px;
            cursor: pointer;
            border-bottom: 1px solid #eee
        }

        .dropdown-item:hover {
            background: #f3e9f0
        }

        .slider-container {
            background: #e8d5e8;
            border-radius: 15px;
            padding: 30px
        }

        .slider-wrapper {
            overflow: hidden
        }

        .slider {
            display: flex;
            transition: transform .5s ease
        }

        .slide {
            min-width: 100%;
            display: flex;
            gap: 25px;
            align-items: center
        }

        .slide img {
            width: 100%;
            height: 350px;
            object-fit: cover;
            border-radius: 12px
        }

        .slide-content h2 {
            color: #7d2d5f;
            margin-bottom: 10px
        }

        .slide-content p {
            margin-bottom: 10px
        }

        .dots {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px
        }

        .dot {
            width: 12px;
            height: 12px;
            background: #999;
            border-radius: 50%;
            cursor: pointer
        }

        .dot.active {
            background: #7d2d5f;
            transform: scale(1.2)
        }

        @media(max-width:768px) {
            .slide {
                flex-direction: column
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Explore Our Communities</h1>

        <div class="tabs">
            <div class="tab active" id="tab1">SENIOR LIVING</div>
            <div class="tab" id="tab2">MULTIGENERATIONAL</div>

            <div style="flex:1;min-width:200px;position:relative">
                <div class="tab" id="regionTab">ALL REGIONS â–¼</div>
                <div class="dropdown" id="regionDropdown">
                    <div class="dropdown-item" data-index="2">Bangalore</div>
                    <div class="dropdown-item" data-index="3">Chennai</div>
                    <div class="dropdown-item" data-index="4">Kolkata</div>
                    <div class="dropdown-item" data-index="5">Mumbai</div>
                    <div class="dropdown-item" data-index="6">Hyderabad</div>
                    <div class="dropdown-item" data-index="7">Pune</div>
                </div>
            </div>
        </div>

        <div class="slider-container">
            <div class="slider-wrapper">
                <div class="slider" id="slider"></div>
            </div>
            <div class="dots" id="dots"></div>
        </div>
    </div>

    <script>
        const slides = [
            { title: "Senior Living", desc: "Slider 1", img: "https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800" },
            { title: "Multi Living", desc: "Slider 2", img: "https://images.unsplash.com/photo-1560185127-6ed189bf02f4?w=800" },
            { title: "Bangalore", desc: "Slider 3", img: "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=800" },
            { title: "Chennai", desc: "Slider 4", img: "https://images.unsplash.com/photo-1582268611958-ebfd161ef9cf?w=800" },
            { title: "Kolkata", desc: "Slider 5", img: "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800" },
            { title: "Mumbai", desc: "Slider 6", img: "https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde?w=800" },
            { title: "Hyderabad", desc: "Slider 7", img: "https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde?w=800" },
            { title: "Pune", desc: "Slider 8", img: "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800" }
        ];

        const slider = document.getElementById("slider");
        const dots = document.getElementById("dots");
        const tabs = document.querySelectorAll(".tab");
        let current = 0;

        // BUILD SLIDES + DOTS
        slides.forEach((s, i) => {
            slider.innerHTML += `
 <div class="slide">
  <img src="${s.img}">
  <div class="slide-content">
    <h2>${s.title}</h2>
    <p>${s.desc}</p>
  </div>
 </div>`;
            const d = document.createElement("div");
            d.className = "dot";
            d.onclick = () => goTo(i);
            dots.appendChild(d);
        });

        // CORE FUNCTION (single source of truth)
        function goTo(i) {
            current = i;
            slider.style.transform = `translateX(-${i * 100}%)`;
            document.querySelectorAll(".dot").forEach((d, idx) => {
                d.classList.toggle("active", idx === i);
            });
        }

        // TAB ACTIVE HANDLER
        function setActiveTab(tab) {
            tabs.forEach(t => t.classList.remove("active"));
            tab.classList.add("active");
        }

        // INITIAL LOAD
        goTo(0);

        // TAB EVENTS
        tab1.onclick = () => {
            setActiveTab(tab1);
            goTo(0);
        };
        tab2.onclick = () => {
            setActiveTab(tab2);
            goTo(1);
        };

        // REGION TAB
        regionTab.onclick = (e) => {
            e.stopPropagation();
            setActiveTab(regionTab);
            regionDropdown.classList.toggle("show");
        };

        // DROPDOWN ITEMS (ðŸ”¥ FIXED)
        document.querySelectorAll(".dropdown-item").forEach(item => {
            item.onclick = () => {
                setActiveTab(regionTab);
                goTo(parseInt(item.dataset.index));
                regionDropdown.classList.remove("show");
            };
        });

        // CLOSE ON OUTSIDE CLICK
        document.addEventListener("click", () => {
            regionDropdown.classList.remove("show");
        });
    </script>
</body>

</html>